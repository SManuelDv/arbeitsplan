#!/usr/bin/env sh

# Verifica se o commit est치 sendo feito pelo sistema de backup
if [ -n "$BACKUP_IN_PROGRESS" ]; then
  exit 0
fi

# Define a vari치vel de ambiente para indicar que o backup est치 em andamento
export BACKUP_IN_PROGRESS=1

# Executa o backup
npx tsx scripts/project-guard.ts backup

# Remove a vari치vel de ambiente
unset BACKUP_IN_PROGRESS
